{% extends "student_home.html" %}
{% block head %}
	<meta charset="UTF-8">
	<title>Choose a lab</title>
	<script>
		$(document).ready(function(){
		    $('button[name=go_to_lab]').click(function(){
		    	var lab_id = '';
		    	var radios = document.getElementsByTagName('input')
		    	for (var i = 0; i < radios.length; i++) {
				    if (radios[i].type == 'radio' && radios[i].checked) {
				        lab_name = $(radios[i]).data('labname');   
				        class_name = $(radios[i]).data('classname');  
				        prof_name = $(radios[i]).data('profname');
				        lab_id = Generate_lab_id(lab_name,class_name,prof_name);
				        break;
				    }
				}
				if (lab_id==''){
                    $('#error_message_no_lab_choose').show().delay(1000).fadeOut();
				}
				else{
					window.location.replace('/student_data_entry/'+lab_id);
				}
		    });
		});
	</script>
{% endblock %}

{% block content %}

<section id="container">
    <section id="main-content">
    	<div class="col-lg-12">
        <div class="adminlab">
        <div class="cleanshape">
	{% if (lab_list|length)==0 %}
	<center>
		<h1>no lab exists in database; check with your instructor</h1><br></br>
	</center>
	{% else %}

		<br></br>

		<center><h2>select a lab</h2></center>
		
		<table class="table sortable">
		    <thead>
				<tr>
				    <th class="tg-yw4l">Index</th>
				    <th class="tg-yw4l">Lab name</th>
				    <th class="tg-yw4l">Class name</th>
				    <th class="tg-yw4l">Professor name</th>
				    <th class="tg-yw4l">Choose</th>
				</tr>
			</thead>
			<tbody>
				{% for i in range(lab_list|length) %}
				<tr>
				    <td class="tg-yw4l">{{ loop.index }}</td>
				    <td class="tg-yw4l">{{ lab_list[i].lab_name }}</td>
				    <td class="tg-yw4l">{{ lab_list[i].class_name }}</td>
				    <td class="tg-yw4l">{{ lab_list[i].prof_name }}</td>
				    <td class="tg-yw4l"><input type="radio" name="lab_name" data-labname="{{lab_list[i].lab_name}}"  data-classname="{{lab_list[i].class_name }}" data-profname="{{lab_list[i].prof_name}}"> </td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	{% endif %}
	<br>
	<center>
	<button> <a href="student_home">return<a></button>
	<button name="go_to_lab">go to lab</button>
</center>
<br></br>
	<!--<div class="temporary_message" id="error_message_no_lab_choose">You need to select one lab</div>-->
</div></div></div>
</section></section>
{% endblock %}